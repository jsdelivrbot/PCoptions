{"version":3,"sources":["../../src/select/select.ts"],"names":[],"mappings":"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","file":"select.js","sourceRoot":"","sourcesContent":["import {\n  Component, OnInit, ElementRef, Renderer2, OnDestroy, OnChanges, SimpleChanges, forwardRef,\n} from '@angular/core';\nimport { ElSelectPoprs } from './select-props';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nexport class ElSelect extends ElSelectPoprs implements OnInit, OnDestroy, OnChanges, ControlValueAccessor {\n  \n  \n  selfWidth: string\n  subscriber: Function[] = []\n  \n  dropdownActive: boolean = false\n  selectedLabel: string | number\n  iconClass: string = 'arrow-up'\n  globalListener: Function\n/**\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(\nprivate el: ElementRef,\nprivate renderer: Renderer2,\n  ) {\n    super()\n  }\n/**\n * @param {?=} isEnter\n * @return {?}\n */\nmouseHandle(isEnter: boolean = false): void {\n    if (!this.clearable || !this.model) return\n    this.iconClass = `${isEnter ? 'circle-close is-reverse' : 'arrow-up'}`\n  }\n/**\n * @param {?=} event\n * @return {?}\n */\ntoggleHandle(event?: Event): void {\n    if (this.elDisabled) return\n    event && event.stopPropagation()\n    this.dropdownActive = !this.dropdownActive\n    const /** @type {?} */ nextClass = 'arrow-up' + (this.dropdownActive ? ' is-reverse' : '')\n    this.iconClass = !this.clearable ? nextClass : this.iconClass\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nclearSelected(event: Event): void {\n    if (!this.clearable) return\n    event.stopPropagation()\n    // reset icon\n    this.mouseHandle(false)\n    // reset selected label\n    this.changeLabel(null, null)\n    // reset model\n    this.model = null\n    this.modelChange.emit(this.model)\n    this.controlChange(this.model)\n    this.subscriber.forEach(sub => sub())\n    // close dropdown menu\n    this.dropdownActive = false\n  }\n/**\n * @param {?} nextLabel\n * @param {?=} nextValue\n * @return {?}\n */\nchangeLabel(nextLabel: string | number, nextValue?: any): void {\n    this.dropdownActive && this.toggleHandle()\n    // only update label\n    this.selectedLabel = nextLabel\n    if (!nextValue || this.model === nextValue) return\n    \n    this.model = nextValue\n    this.modelChange.emit(nextValue)\n    this.controlChange(nextValue)\n    this.subscriber.forEach(sub => sub())\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    const /** @type {?} */ timer: any = setTimeout(() => {\n      this.selfWidth = this.el.nativeElement.getBoundingClientRect().width\n      clearTimeout(timer)\n    }, 0)\n    this.globalListener = this.renderer.listen('document', 'click', () => {\n      this.dropdownActive && this.toggleHandle()\n    })\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    // not include model\n    if (!changes || !changes.model) return\n    if (changes.model.isFirstChange()) return\n    \n    // reset model\n    if (!changes.model.currentValue) {\n      this.selectedLabel = changes.model.currentValue\n      this.model = changes.model.currentValue\n      this.modelChange.emit(changes.model.currentValue)\n      this.controlChange(this.model)\n    }\n    this.subscriber.forEach(sub => sub())\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListener && this.globalListener()\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n    this.model = value\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: Function): void {\n    this.controlChange = fn\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: Function): void {\n    this.controlTouch = fn\n  }\nprivate controlChange: Function = () => {}\nprivate controlTouch: Function = () => {}\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-select',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ElSelect),\n    multi: true\n  }],\n  styles: ['.el-select-dropdown__list { overflow: hidden; }'],\n  template: `\n    <div class=\"el-select\" (click)=\"toggleHandle($event)\">\n      <el-input [model]=\"selectedLabel\" [placeholder]=\"placeholder\" [icon]=\"iconClass\"\n        iconClass=\"el-select__caret\"\n        [name]=\"name\" [size]=\"size\" [elDisabled]=\"elDisabled\"\n        (mouseenter)=\"mouseHandle(true)\" (mouseleave)=\"mouseHandle(false)\"\n        (icon-click)=\"clearSelected($event)\">\n      </el-input>\n      <ng-container>\n        <el-select-dropdown [isActived]=\"dropdownActive\">\n          <ul class=\"el-scrollbar__view el-select-dropdown__list\">\n            <ng-content></ng-content>\n          </ul>\n        </el-select-dropdown>\n      </ng-container>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\n}\n\nfunction ElSelect_tsickle_Closure_declarations() {\n/** @type {?} */\nElSelect.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElSelect.ctorParameters;\n/** @type {?} */\nElSelect.prototype.selfWidth;\n/** @type {?} */\nElSelect.prototype.subscriber;\n/** @type {?} */\nElSelect.prototype.dropdownActive;\n/** @type {?} */\nElSelect.prototype.selectedLabel;\n/** @type {?} */\nElSelect.prototype.iconClass;\n/** @type {?} */\nElSelect.prototype.globalListener;\n/** @type {?} */\nElSelect.prototype.controlChange;\n/** @type {?} */\nElSelect.prototype.controlTouch;\n/** @type {?} */\nElSelect.prototype.el;\n/** @type {?} */\nElSelect.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}